{"ast":null,"code":"var _jsxFileName = \"/Users/deionstfleur/Desktop/Python Job Scraper/Python-Job-Scraper/frontend/src/Pages/SoldPricesChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Chart from 'chart.js/auto';\nimport { ColorRing } from 'react-loader-spinner';\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SoldPricesChart = () => {\n  _s();\n  const [soldPricesData, setSoldPricesData] = useState([]);\n  const [propertyType, setPropertyType] = useState('all'); // Default to show all property types\n  const chartRef = React.useRef(null); // Reference to the Chart instance\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchSoldPrices = async () => {\n      try {\n        const response = await axios.get('http://127.0.0.1:5000/api/properties');\n        setSoldPricesData(response.data);\n        setLoading(false); // Set loading to false after data is fetched\n      } catch (error) {\n        console.error('Failed to fetch sold prices:', error);\n      }\n    };\n    fetchSoldPrices();\n  }, []);\n  useEffect(() => {\n    if (!loading && soldPricesData.length > 0) {\n      renderChart();\n    }\n  }, [soldPricesData, loading, propertyType]);\n  const renderChart = () => {\n    let filteredProperties = soldPricesData;\n\n    // Filter properties based on property type\n    if (propertyType !== 'all') {\n      filteredProperties = soldPricesData.filter(property => property.style === propertyType);\n    }\n    const soldPrices = filteredProperties.filter(property => property.sold_price !== null).map(property => property.sold_price);\n    const propertyIndices = filteredProperties.map((property, index) => index + 1).filter((index, idx) => filteredProperties[idx].sold_price !== null);\n    const ctx = document.getElementById('soldPricesChart2').getContext('2d');\n\n    // Check if a Chart instance already exists\n    if (chartRef.current) {\n      chartRef.current.destroy(); // Destroy the existing Chart instance\n    }\n\n    // Create new Chart instance and store it in the reference\n    chartRef.current = new Chart(ctx, {\n      type: 'bar',\n      data: {\n        labels: propertyIndices,\n        datasets: [{\n          label: 'Boston Properties Sold at this Price',\n          data: soldPrices,\n          borderColor: 'rgba(75, 192, 192, 1)',\n          borderWidth: 1,\n          fill: false\n        }]\n      },\n      options: {\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      }\n    });\n  };\n  const handlePropertyTypeChange = type => {\n    setPropertyType(type);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'block',\n            marginTop: 40,\n            alignItems: 'center',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading Chart Data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ColorRing, {\n            visible: true,\n            height: \"80\",\n            width: \"80\",\n            ariaLabel: \"color-ring-loading\",\n            wrapperStyle: {},\n            wrapperClass: \"color-ring-wrapper\",\n            colors: ['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePropertyTypeChange('condo'),\n          children: \"Condos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePropertyTypeChange('multi_family'),\n          children: \"Multi-Family\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePropertyTypeChange('single_family'),\n          children: \"Single-Family\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePropertyTypeChange('all'),\n          children: \"Show All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"soldPricesChart2\",\n        width: \"800\",\n        height: \"400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"beantown-title\",\n        children: \"Boston, MA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n_s(SoldPricesChart, \"jp9sZRlYEas7QwRbDexmInUuKp0=\");\n_c = SoldPricesChart;\nexport default SoldPricesChart;\nvar _c;\n$RefreshReg$(_c, \"SoldPricesChart\");","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","ColorRing","jsxDEV","_jsxDEV","Fragment","_Fragment","SoldPricesChart","_s","soldPricesData","setSoldPricesData","propertyType","setPropertyType","chartRef","useRef","loading","setLoading","fetchSoldPrices","response","get","data","error","console","length","renderChart","filteredProperties","filter","property","style","soldPrices","sold_price","map","propertyIndices","index","idx","ctx","document","getElementById","getContext","current","destroy","type","labels","datasets","label","borderColor","borderWidth","fill","options","scales","yAxes","ticks","beginAtZero","handlePropertyTypeChange","children","className","display","marginTop","alignItems","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","onClick","id","_c","$RefreshReg$"],"sources":["/Users/deionstfleur/Desktop/Python Job Scraper/Python-Job-Scraper/frontend/src/Pages/SoldPricesChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Chart from 'chart.js/auto';\nimport { ColorRing } from 'react-loader-spinner';\nimport \"../App.css\";\n\nconst SoldPricesChart = () => {\n    const [soldPricesData, setSoldPricesData] = useState([]);\n    const [propertyType, setPropertyType] = useState('all'); // Default to show all property types\n    const chartRef = React.useRef(null); // Reference to the Chart instance\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchSoldPrices = async () => {\n            try {\n                const response = await axios.get('http://127.0.0.1:5000/api/properties');\n                setSoldPricesData(response.data);\n                setLoading(false); // Set loading to false after data is fetched\n            } catch (error) {\n                console.error('Failed to fetch sold prices:', error);\n            }\n        };\n\n        fetchSoldPrices();\n    }, []);\n\n    useEffect(() => {\n        if (!loading && soldPricesData.length > 0) {\n            renderChart();\n        }\n    }, [soldPricesData, loading, propertyType]);\n\n    const renderChart = () => {\n        let filteredProperties = soldPricesData;\n\n        // Filter properties based on property type\n        if (propertyType !== 'all') {\n            filteredProperties = soldPricesData.filter(property => property.style === propertyType);\n        }\n\n        const soldPrices = filteredProperties\n            .filter(property => property.sold_price !== null)\n            .map(property => property.sold_price);\n        const propertyIndices = filteredProperties\n            .map((property, index) => index + 1)\n            .filter((index, idx) => filteredProperties[idx].sold_price !== null);\n\n        const ctx = document.getElementById('soldPricesChart2').getContext('2d');\n\n        // Check if a Chart instance already exists\n        if (chartRef.current) {\n            chartRef.current.destroy(); // Destroy the existing Chart instance\n        }\n\n        // Create new Chart instance and store it in the reference\n        chartRef.current = new Chart(ctx, {\n            type: 'bar',\n            data: {\n                labels: propertyIndices,\n                datasets: [{\n                    label: 'Boston Properties Sold at this Price',\n                    data: soldPrices,\n                    borderColor: 'rgba(75, 192, 192, 1)',\n                    borderWidth: 1,\n                    fill: false\n                }]\n            },\n            options: {\n                scales: {\n                    yAxes: [{\n                        ticks: {\n                            beginAtZero: true\n                        }\n                    }]\n                }\n            }\n        });\n    };\n\n    const handlePropertyTypeChange = (type) => {\n        setPropertyType(type);\n    };\n\n    return (\n        <div>\n            {loading ? (\n                <>\n                    <div className='loading-container'>\n                        <div style={{display: 'block',marginTop: 40, alignItems:'center',textAlign:'center'}}>\n                            <p>Loading Chart Data...</p>\n                            <ColorRing\n                                visible={true}\n                                height=\"80\"\n                                width=\"80\"\n                                ariaLabel=\"color-ring-loading\"\n                                wrapperStyle={{}}\n                                wrapperClass=\"color-ring-wrapper\"\n                                colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n                            />\n                        </div>\n                    </div>\n                </>\n            ) : (\n                <>\n                    <div>\n                        <button onClick={() => handlePropertyTypeChange('condo')}>Condos</button>\n                        <button onClick={() => handlePropertyTypeChange('multi_family')}>Multi-Family</button>\n                        <button onClick={() => handlePropertyTypeChange('single_family')}>Single-Family</button>\n                        <button onClick={() => handlePropertyTypeChange('all')}>Show All</button>\n                    </div>\n                    <canvas id=\"soldPricesChart2\" width=\"800\" height=\"400\"></canvas>\n                    <p className='beantown-title'>Boston, MA</p>\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default SoldPricesChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}